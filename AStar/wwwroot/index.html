<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>AStar</title>
    <base href="/" />
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link href="AStar.styles.css" rel="stylesheet" />


    <script src="_content/Blazor.Extensions.Canvas/blazor.extensions.canvas.js"></script>
    <!-- <script src="acorn_interpreter.js"></script>  SOURCE: https://neil.fraser.name/software/JS-Interpreter/docs.html -->
    <!--
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
    <link href="_content/Blazorise/blazorise.css" rel="stylesheet" />
    <link href="_content/Blazorise.Bootstrap/blazorise.bootstrap.css" rel="stylesheet" />
    <link href="_content/Z.Blazor.Diagrams/style.min.css" rel="stylesheet" />
    <link href="_content/Z.Blazor.Diagrams/default.styles.min.css" rel="stylesheet" />

    <script src="//d3js.org/d3.v5.min.js"></script>
    <script src="https://unpkg.com/@hpcc-js/wasm@0.3.11/dist/index.min.js"></script>
    <script src="https://unpkg.com/d3-graphviz@3.1.0/build/d3-graphviz.js"></script>

    <script type="module">
        window.Graphing = {
            // Source: https://jonhilton.net/blazor-diagrams/
            // https://www.npmjs.com/package/d3-graphviz#creating-a-graphviz-renderer

            render: async (element, engine, dot) => {
                d3.select(element).graphviz({
                    engine: engine,
                    width: element.offsetWidth,
                    height: 500
                }).attributer(d => {
                    if (d.tag == 'polygon') {
                        console.log(d);
                        d3.select(this).attr("fill", "yellow");
                    }
                }).renderDot(dot);
            }
        };

    </script>

    <script>
        /*
        window.runHeuristic = async (source, refTile, goalTile, map) => {
            const args = { refTile: refTile, goalTile: goalTile, map: map };
            try {
                setup();
                var result = await exe(source, args).catch(e => console.log(e));
                return result;
            } catch (e) {
                console.log(e);
            }

            //var interpreter = new Interpreter(source, (i, g) => {
            //    var ref = i.nativeToPseudo(refTile);
            //    var goal = i.nativeToPseudo(goalTile);
            //    var map = i.nativeToPseudo(map);

            //    i.setProperty(g, 'refTile', ref);
            //    i.setProperty(g, 'goalTile', goal);
            //    i.setProperty(g, 'map', map);
            //});



            //interpreter.run();
            //return interpreter.value;
        }*/
    </script>

</head>

<body>
    <div id="app">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2" crossorigin="anonymous"></script>

    <script src="_content/Z.Blazor.Diagrams/script.min.js"></script>
</body>

</html>
